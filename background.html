<script>
chrome.contextMenus.create({
  "title": "Open frame in this tab",
  "contexts": ["frame"],
  "onclick": function(clickData, tab) {
    chrome.tabs.update(tab.id, {url: getURL(clickData)});
  }
});

chrome.contextMenus.create({
  "title": "Open frame in new tab",
  "contexts": ["frame"],
  "onclick": function(clickData) {
    chrome.tabs.create({url: getURL(clickData)});
  }
});

chrome.contextMenus.create({
  "title": "Open frame in new window",
  "contexts": ["frame"],
  "onclick": function(clickData) {
    chrome.windows.create({url: getURL(clickData)});
  }
});

chrome.contextMenus.create({
  "title": "Open frame in incognito window",
  "contexts": ["frame"],
  "onclick": function(clickData) {
    chrome.windows.create({url: getURL(clickData), incognito: true});
  }
});

function getURL(clickData) {
  return clickData.frameUrl || clickData.pageUrl
}
</script>
